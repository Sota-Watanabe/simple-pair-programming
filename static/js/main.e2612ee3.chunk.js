(this["webpackJsonpsimple-pair-programming"]=this["webpackJsonpsimple-pair-programming"]||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(44),i=n.n(c),o=n(1),l=n(8),u=n.n(l),s=n(28),m=n(9),d=n(45),p=n.n(d),f=(n(12),n(73),n(74),n(46)),b=n.n(f),h=null,g=r.a.memo((function(e){var t=Object(a.useContext)(W),n=Object(o.a)(t,1)[0],c=e.text;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Share Code"),r.a.createElement(b.a,{editorProps:{$blockScrolling:"true"},fontSize:"16px",height:"500px",highlightActiveLine:!1,mode:"c_cpp",style:{margin:"auto",maxWidth:"1024px"},name:"UNIQUE_ID_OF_DIV",onChange:function(){if(!0===n.canWrite){var t=h.getValue();e.setText(t);var a=e.dataConnection,r={canWrite:n.canWrite,editText:t};a.send(r)}},onLoad:function(e){h=e},showPrintMargin:!1,tabSize:4,theme:"chaos",readOnly:!n.canWrite,value:c,width:"80%",wrapEnabed:!1}))})),O=n(18),j=n.n(O),x=function(e){var t=e.dataConnection,n=Object(a.useContext)(W),c=Object(o.a)(n,2),i=c[0],l=c[1];return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},i.canWrite&&r.a.createElement("h3",{style:{marginY:"auto"}},"\u66f8\u304d\u8fbc\u307f\u30e2\u30fc\u30c9"),!i.canWrite&&r.a.createElement("h3",{style:{marginY:"auto"}},"\u8aad\u307f\u8fbc\u307f\u30e2\u30fc\u30c9"),r.a.createElement(j.a,{style:{marginLeft:"10px"},checked:i.canWrite,onChange:function(e){return n=e,t.send({canWrite:n}),void l(Object(m.a)(Object(m.a)({},i),{},{canWrite:n}));var n}}))},v=function(e){var t=e.localVideo,n=e.remoteVideo,c=Object(a.useState)(!0),i=Object(o.a)(c,2),l=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",maxWidth:"1000px",marginLeft:"10%"}},r.a.createElement("h3",null,"\u97f3\u58f0"),r.a.createElement(j.a,{style:{marginLeft:"20px",marginTop:"auto",marginBottom:"auto"},checked:!l,onChange:function(e){u(!e)}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",maxWidth:"1000px",margin:"auto"}},r.a.createElement("div",{style:{width:"40%"}},r.a.createElement("video",{width:"100%",autoPlay:!0,muted:!0,playsInline:!0,style:{maxWidth:"400px"},ref:t})),r.a.createElement("div",{style:{width:"40%",textAlign:"center"}},r.a.createElement("video",{width:"100%",autoPlay:!0,muted:l,playsInline:!0,style:{maxWidth:"400px"},ref:n}))))},E=new p.a({key:"5f92eacd-435e-451c-9d67-27f94bcc4096"}),y=function(){var e=Object(a.useContext)(W),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),d=l[0],p=l[1],f=Object(a.useState)(""),b=Object(o.a)(f,2),h=b[0],O=b[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),w=y[0],C=y[1],S=Object(a.useState)(""),k=Object(o.a)(S,2),P=k[0],I=k[1],L=Object(a.useState)(!1),T=Object(o.a)(L,2),V=T[0],A=T[1],_=Object(a.useRef)(null),D=Object(a.useRef)(null);E.on("open",(function(){p(E.id),null!==_.current&&navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){_.current.srcObject=e}))}));var F=function(e){e.hasOwnProperty("editText")&&I(e.editText),c(Object(m.a)(Object(m.a)({},n),{},{canWrite:!e.canWrite}))};return E.on("connection",(function(e){C(e),e.on("data",(function(e){F(e)})),A(!0)})),E.on("call",(function(e){null!==_.current&&(e.answer(_.current.srcObject),e.on("stream",function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.current.srcObject=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),r.a.createElement("div",null,!V&&r.a.createElement("div",{style:{marginLeft:"10%"}},r.a.createElement("div",null,d),r.a.createElement("input",{onChange:function(e){return O(e.target.value)}}),r.a.createElement("button",{onClick:function(){E.call(h,_.current.srcObject).on("stream",function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.current.srcObject=t,e.next=3,D.current.play().catch(console.error);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A(!0);var e=E.connect(h);C(e),e.on("data",(function(e){F(e)}))}},"\u767a\u4fe1")),r.a.createElement(v,{localVideo:_,remoteVideo:D}),V&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{dataConnection:w}),r.a.createElement(g,{text:P,setText:I,dataConnection:w})))},W=Object(a.createContext)(),w=function(){var e=Object(a.useState)({canWrite:!1}),t=Object(o.a)(e,2),n=t[0],c=t[1];return r.a.createElement(W.Provider,{value:[n,c]},r.a.createElement("h1",{style:{textAlign:"center",padding:"50px"}},"Simple Pair Programming"),r.a.createElement(y,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))},47:function(e,t,n){e.exports=n(133)}},[[47,1,2]]]);
//# sourceMappingURL=main.e2612ee3.chunk.js.map